Thanks to your help, the PID network has been strengthened so that it is now possible to travel comfortably between any two points in the city. However, as a side effect of this situation, there are an unbearable number of carts and cabs driving around town, and often at dangerous speeds due to the relentlessly optimised timetables (who knows if that’s not your job too).This understandably irritates a large part of the townspeople, who resent the constant noise of the horse neighing, the whip cracking and who fear for their safety, whenever they go out on the street.

But the aldermen are more than happy with the current situation, as the optimised PID traffic brings them gold both in the city’s coffers and in their own pockets, and any complaints have so far been swept under the table. But now word has reached them that a group of insistent townspeople are planning a more radical action. They’re planning a protest march through the city to demand a city-wide speed limit to slow horse trot speed. This is what the aldermen are scared of, as it threatens to collapse the PID and all transport in the city.

So you have been hired again to prepare an analysis of the impact of such a protest depending on its size. For each street, it’s easy to figure out how many townspeople it would take to block passage. But what the aldermen really want to know is how many total townspeople would have to come together to cause a complete traffic collapse. A traffic collapse refers to a situation in which two places in a city are created between which there is no way to travel. In addition, they would want to know where the critical streets are that will cause such a traffic collapse so that the city guard would be prepared to disperse such a protest.

So you are given a map of the city, where for each street you have written how many townspeople will cause its blockage, and you have to calculate how many least protesting townspeople are needed to cause the collapse of the traffic network, and also where the critical streets are, the blockage of which will cause this collapse. The concept of a one-way street is, of course, a modern invention, and thus you can consider every street in a city (however narrow) to be passable in both directions.
Interface

Your task is to implement function std::pair<unsigned, std::set<Place>> critical_streets(const Map& map) which returns how many townspeople are need to cause the traffic network collapse and also the list of places on one side of the blockade.

An object of the Map class contains an attribute places listing the existing places and an attribute connections listing triplets place, place, capacity. Each triplet describes one street connecting the given places and how many people are need to block it. All streets are two-way, there can be multiple connections between two places and sometimes the starting and ending places might be equal. Every place is described by a data type Place. Place is implemented using std::string in the example data, however the real data use a more efficient implementation.